<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>七顆神秘寶石 | The Seven Mystic Stones</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="main-container">
        <div class="sidebar" id="sidebar">
            <div class="bookmark-tabs">
                <button class="tab-trigger active" onclick="showTab('letter')" data-tab="letter">
                    <span class="tab-icon">🗞️</span>
                    <span class="tab-text">LETTER</span>
                </button>
                <button class="tab-trigger" onclick="showTab('maps')" data-tab="maps">
                    <span class="tab-icon">🗺️</span>
                    <span class="tab-text">MAPS</span>
                </button>
            </div>
            
            <button class="close-sidebar" onclick="closeSidebar()">&times;</button>
            <div class="sidebar-content">
                <div class="tab-content active" id="letter-content">
                    <div class="treasure-hunt-content">
                        <h3>🌊 Na-lēt ni-big</h3>
                        <div class="mwotlap-text" data-puzzle-lang="mwt">
                            <p><strong>Na-lēt Mwotlap:</strong></p>
                            <p>
                                Qele ave nēk so sok ne-vet yon̄ liviyô?<br>
                                Van le-pnō M̄otlap. Sok mahē alge be-et.<br>
                                At yow, nēk so et na-pnō susu. Ne-vet A aē.<br>
                                At hōw, nēk so et na-hōm ni-myen. Ne-vet B aē.<br>
                                At hay, nēk so et na-han̄ wa ne-vet liwo. Ne-vet C aē.<br>
                                Ēgēn, nēk van le-sle Lahlap. Tō hō van le-sle na-wha a na-pnō men.<br>
                                Van hōw hiy na-han̄. Tō van hay, nēk so et nē-lē.<br>
                                Van hay a le-lo lē. Tō van hag, van yow, van hag, van hay, van hay, van hay. Ne-vet D aē.<br>
                                Van m̄ōl. Tō van hay, van hag, van yow, van hay, tō van yow le-lo lē.<br>
                                Van hag wa van yow, nēk so et na-sle qet.<br>
                                Hō hag hiy na-pnō itôk.<br><br>
                                Sok n-ēm̄ yon̄! N-ēm̄ su vētēl aē walēg l-ēm̄ yon̄.<br>
                                N-ēm̄ su A tog tô lok hag l-ēm̄ yon̄. N-ēm̄ yon tog tô lok hōw l-ēm̄ su A.<br>
                                N-ēm̄ su B tog tô lok yow l-ēm̄ yon̄. N-ēm̄ yon tog tô lok hay l-ēm̄ su B.<br>
                                N-ēm̄ su C tog tô lok hōw l-ēm̄ su B. N-ēm̄ su B tog tô lok hag l-ēm̄ su C.<br><br>
                                Na-han ēm̄ ne-vet aē yow l-ēm̄ ōk?<br>
                                Ne-vet E tō a laln̄e ne-vet liwo gēn.
                            </p>
                        </div>
                        
                        <div class="mwotlap-text" data-puzzle-lang="adv" style="display: none;">
                            <p><strong>Advanced Linguistic Protocol:</strong></p>
                            <p>
                                Directional-discovery.sequence = [M̄otlap.watchtower → yow:island.A, hōw:lighthouse.B, hay:totem+rock.C]<br>
                                Navigation.chain = [Lahlap.port → Men.island → directional.maze → Itôk.island]<br>
                                Spatial.constraints = {<br>
                                &nbsp;&nbsp;chapel.reference → hut.constellation.mapping<br>
                                &nbsp;&nbsp;mediate.lok + directional.system<br>
                                &nbsp;&nbsp;reciprocal.positioning.verification<br>
                                }<br>
                                Puzzle.condition = existential(stone.E) ∩ location(yow.side) ∩ reference(hut.unknown)<br>
                                Query.formulation = interrogative.mey + spatial.construction + verification.protocol
                            </p>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="maps-content">
                    <h4 style="color: #f4f1de; text-align: center; margin-bottom: 20px;" data-puzzle-lang="mwt">Na-hap yon̄ vētēl</h4>
                    <h4 style="color: #f4f1de; text-align: center; margin-bottom: 20px; display: none;" data-puzzle-lang="adv">Cartographic.References</h4>
                    
                    <div class="map-container">
                        <div class="placeholder" data-puzzle-lang="mwt">
                            [Hap A: Na-pnō M̄otlap - mahē alge, ne-vet A B C, na-tēy Kaikoa]
                        </div>
                        <div class="placeholder" data-puzzle-lang="adv" style="display: none;">
                            [Map.1: M̄otlap.topography - watchtower.coordinates + stone.triangle.ABC + Kaikoa.route.trace]
                        </div>
                    </div>
                    
                    <div class="map-container">
                        <div class="placeholder" data-puzzle-lang="mwt">
                            [Hap B: Na-pnō Men - nē-lē bah na-tēy le-lo maze]
                        </div>
                        <div class="placeholder" data-puzzle-lang="adv" style="display: none;">
                            [Map.2: Men.island.structure - cave.system + maze.navigation.D + exit.protocol]
                        </div>
                    </div>
                    
                    <div class="map-container">
                        <div class="placeholder" data-puzzle-lang="mwt">
                            [Hap C: Na-pnō Itôk - n-ēm̄ yon̄, n-ēm̄ su A B C, na-han̄ yow]
                        </div>
                        <div class="placeholder" data-puzzle-lang="adv" style="display: none;">
                            [Map.3: Itôk.settlement.grid - chapel.central + hut.constellation.ABC + totem.positioning.matrix]
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="content-area">
            <header>
                <h1 data-story-lang="en">The Seven Mystic Stones</h1>
                <h1 data-story-lang="zh" style="display: none;" class="chinese-text">七顆神秘寶石</h1>
                <p class="subtitle">A Mwotlap Linguistic Treasure Hunt</p>
                
                <div class="language-controls">
                    <div class="language-switch">
                        <label>Story Language:</label>
                        <div class="switch">
                            <input type="checkbox" id="storyLang">
                            <span class="slider"></span>
                        </div>
                        <div class="language-labels">
                            <span id="storyLang1">EN</span>
                            <span id="storyLang2" class="chinese-label">中文</span>
                        </div>
                    </div>
                    
                    <div class="language-switch">
                        <label>Puzzle Language:</label>
                        <div class="switch">
                            <input type="checkbox" id="puzzleLang">
                            <span class="slider"></span>
                        </div>
                        <div class="language-labels">
                            <span id="puzzleLang1">MWT</span>
                            <span id="puzzleLang2">ADV</span>
                        </div>
                    </div>
                </div>
            </header>

            <div class="story-content" id="story-container">
                <!-- Content will be dynamically generated by JavaScript -->
                <div class="loading-message">
                    📜 Loading story content...
                </div>
            </div>
        </div>
    </div>

    <!-- Load story data and renderer -->
    <script src="story-data.js"></script>
    <script src="story-renderer.js"></script>
    <script src="app.js"></script>
</body>
</html>
